(function(){"use strict";var e={9692:function(e,t,s){var a=s(6848),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],l=s(1656),n={},o=(0,l.A)(n,r,i,!1,null,null,null),c=o.exports,p=(s(8992),s(7550),s(6178)),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-page"},[t("div",{staticClass:"background"}),t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-box"},[e._m(0),t("div",{staticClass:"input-group"},[t("CustomInput",{attrs:{placeholder:"Логин или Телефон",icon:"call",type:"phone"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("CustomInput",{attrs:{icon:"lock",placeholder:"Пароль",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("div",{staticClass:"button-error-container"},[t("button",{staticClass:"button",on:{click:e.login}},[e._v("Войти")]),e.error?t("div",{staticClass:"error-container"},[t("label",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")])]):e._e()])])])])},u=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-header"},[t("h2",[e._v("Авторизация")])])}],h=(s(4114),function(){var e=this,t=e._self._c;return t("div",{staticClass:"custom-input"},[t("div",{staticClass:"input-wrapper"},[e.icon?t("span",{staticClass:"input-icon material-symbols-outlined"},[e._v(" "+e._s(e.icon)+" ")]):e._e(),t("label",{staticClass:"input-label",class:{hidden:!e.displayedLabel}},[e._v(" "+e._s(e.displayedLabel||" ")+" ")]),t(e.inputTag,e._b({tag:"component",staticClass:"input-element",attrs:{placeholder:e.computedPlaceholder,type:e.computedType},on:{input:e.handleInput}},"component",e.inputProps,!1),["textarea"===e.inputTag&&""!==e.value?[e._v(e._s(e.value))]:e._e()],2),"password"===e.type?t("button",{staticClass:"toggle-password-btn",attrs:{type:"button","aria-label":"Toggle password visibility"},on:{click:function(t){return t.preventDefault(),e.togglePasswordVisibility.apply(null,arguments)}}},[t("span",{staticClass:"material-symbols-outlined"},[e._v(" "+e._s(e.isPasswordVisible?"visibility_off":"visibility")+" ")])]):e._e(),"search"===e.type?t("button",{staticClass:"search-btn",attrs:{type:"button","aria-label":"Search"},on:{click:function(t){return t.preventDefault(),e.onSearchClick.apply(null,arguments)}}},[t("span",{staticClass:"material-symbols-outlined"},[e._v("search")])]):e._e()],1)])}),m=[],g={data(){return{isPasswordVisible:!1,displayedLabel:this.label}},props:{label:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},value:{type:String,default:""},icon:{type:String,default:""},onSearch:{type:Function,default:null}},computed:{inputTag(){return"textarea"===this.type?"textarea":"input"},computedType(){return"password"===this.type?this.isPasswordVisible?"text":"password":this.type},computedPlaceholder(){return this.value?"":this.placeholder},inputProps(){const e={placeholder:this.computedPlaceholder};return"textarea"!==this.inputTag&&(e.value=this.value),e}},watch:{value(e){this.updateLabel(e)}},methods:{handleInput(e){this.$emit("input",e.target.value),this.updateLabel(e.target.value)},togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible},onSearchClick(){this.onSearch?this.onSearch(this.value):this.$emit("search",this.value)},updateLabel(e){this.displayedLabel=e?this.label||this.placeholder:this.label}},mounted(){this.updateLabel(this.value)}},y=g,f=(0,l.A)(y,h,m,!1,null,"d2b7ba44",null),v=f.exports,_={data(){return{username:"+7 912 233 34 44",password:"123456",error:null}},components:{CustomInput:v},methods:{validateFields(){return this.username=this.username.replace(/\s+/g,"").replace(/^\+/,""),this.username.trim()?this.password.trim()?!(this.password.length<4)||(this.error="Пароль должен быть не менее 4 символов.",!1):(this.error="Введите пароль.",!1):(this.error="Введите логин или телефон.",!1)},async login(){if(this.error=null,this.validateFields())try{await this.$store.dispatch("login",{username:this.username,password:this.password}),this.$router.push("/")}catch(e){this.error=e.message}}}},b=_,w=(0,l.A)(b,d,u,!1,null,"a9406054",null),P=w.exports,A=(s(1454),function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-page"},[e._m(0),t("body",{staticClass:"table-body"},[t("div",{staticClass:"create-button-container"},[t("button",{on:{click:e.createAppeal}},[e._v("Создать")])]),t("div",{staticClass:"first-filters-container"},[t("CustomInput",{attrs:{placeholder:"Поиск (№ заявки, название)",type:"search",onSearch:e.applyFilters},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),t("CustomSelect",{attrs:{items:e.premiseAddresses,placeholder:"Дом",labelKey:"address"},model:{value:e.selectedPremise,callback:function(t){e.selectedPremise=t},expression:"selectedPremise"}})],1),t("table",{staticClass:"appeals-table"},[t("thead",[t("tr",[t("th",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleSort("number")}}},[e._v(" № "),t("span",[e.sortDirection.includes("number")?t("i",{class:"-number"===e.sortDirection?"arrow-up":"arrow-down"},[e._v(" "+e._s("-number"===e.sortDirection?"↑":"↓")+" ")]):t("i",{staticClass:"arrow-neutral"},[e._v("↕")])])]),t("th",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleSort("created_at")}}},[e._v(" Создана "),t("span",[e.sortDirection.includes("created_at")?t("i",{class:"-created_at"===e.sortDirection?"arrow-up":"arrow-down"},[e._v(" "+e._s("-created_at"===e.sortDirection?"↑":"↓")+" ")]):t("i",{staticClass:"arrow-neutral"},[e._v("↕")])])]),t("th",[e._v("Адрес")]),t("th",[e._v("Заявитель")]),t("th",[e._v("Описание")]),t("th",[e._v("Срок")]),t("th",[e._v("Статус")])])]),t("tbody",e._l(e.appeals,(function(s){return t("tr",{key:s.id,on:{click:function(t){return e.openAppeal(s)}}},[t("td",{staticClass:"table-number"},[t("span",{staticClass:"number-content"},[e._v(e._s(s.number))])]),t("td",[e._v(e._s(e.formatDate(s.created_at)))]),t("td",[e._v(e._s(e.formatAddress(s.premise,s.apartment)))]),t("td",[e._v(e._s(e.formatApplicant(s.applicant)))]),t("td",[e._v(e._s(s.description))]),t("td",[e._v(e._s(e.formatDate(s.due_date)))]),t("td",[e._v(e._s(s.status.name))])])})),0)]),t("div",{staticClass:"secont-filters-container"},[t("div",{staticClass:"indo-pagesize"},[t("div",{staticClass:"record-info"},[t("p",[e._v(e._s(e.displayRecordInfo))])]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.pageSize,expression:"pageSize"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.pageSize=t.target.multiple?s:s[0]},e.togglePageSize]}},[t("option",{domProps:{value:10}},[e._v("10")]),t("option",{domProps:{value:25}},[e._v("25")]),t("option",{domProps:{value:50}},[e._v("50")]),t("option",{domProps:{value:100}},[e._v("100")])])]),t("div",{staticClass:"pagination"},[t("span",{staticClass:"page-item material-symbols-outlined",class:{disabled:1===e.currentPage},on:{click:function(t){return e.goToPage(1)}}},[e._v(" keyboard_double_arrow_left ")]),t("span",{staticClass:"page-item material-symbols-outlined",class:{disabled:1===e.currentPage},on:{click:function(t){return e.goToPage(e.currentPage-1)}}},[e._v(" keyboard_arrow_left ")]),e._l(e.getPagesToShow,(function(s){return t("span",{key:s.key,class:["page-item",{active:s.page===e.currentPage}],on:{click:function(t){return e.goToPage(s.page)}}},[e._v(" "+e._s(s.page)+" ")])})),t("span",{staticClass:"page-item material-symbols-outlined",class:{disabled:e.currentPage===e.totalPages},on:{click:function(t){return e.goToPage(e.currentPage+1)}}},[e._v(" keyboard_arrow_right ")]),t("span",{staticClass:"page-item material-symbols-outlined",class:{disabled:e.currentPage===e.totalPages},on:{click:function(t){return e.goToPage(e.totalPages)}}},[e._v(" keyboard_double_arrow_right ")])],2)]),e.isModalOpen?t("ModalWindow",{attrs:{selectedAppeal:e.selectedAppeal},on:{save:e.handleSave,close:e.closeModal,"data-saved":e.dataUpdate}}):e._e()],1)])}),C=[function(){var e=this,t=e._self._c;return t("header",[t("h1",[e._v("Список заявок")])])}],S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"custom-select",on:{click:e.toggleDropdown}},[t("div",{staticClass:"select-container"},[t("label",{staticClass:"input-label",class:{hidden:!e.label}},[e._v(" "+e._s(e.computedLabel||" ")+" ")]),t("div",{staticClass:"select-wrapper"},[t("div",{staticClass:"selected-value",class:{selected:e.selectedLabel}},[e._v(" "+e._s(e.selectedLabel||e.placeholder)+" ")]),t("span",{staticClass:"dropdown-icon material-symbols-outlined"},[e._v(" arrow_drop_down ")])]),e.isDropdownOpen?t("ul",{staticClass:"dropdown-list"},e._l(e.dropdownItems,(function(s,a){return t("li",{key:a,staticClass:"dropdown-item",on:{click:function(t){return t.stopPropagation(),e.selectItem(s)}}},[e._v(" "+e._s(e.getItemLabel(s))+" ")])})),0):e._e()])])},k=[],$={data(){return{isDropdownOpen:!1,dynamicLabel:this.label}},props:{label:{type:String,default:""},items:{type:Array,required:!0},labelKey:{type:String,default:null},placeholder:{type:String,default:"Select an option"},value:{type:[String,Object,null],default:null}},computed:{computedLabel(){return this.dynamicLabel||null},dropdownItems(){return["Все",...this.items]},selectedLabel(){return this.value?this.getItemLabel(this.value):null}},watch:{value:{immediate:!0,handler(e){this.$nextTick((()=>{this.updateSelected(e),this.updateDynamicLabel(e)}))}}},methods:{toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},selectItem(e){const t="Все"===e?null:e;this.$emit("input",t),this.updateDynamicLabel(t),this.isDropdownOpen=!1},getItemLabel(e){return this.labelKey&&"object"===typeof e?e[this.labelKey]||"Все":e},updateSelected(e){e&&this.items.includes(e)?this.selectedItem=e:this.selectedItem=null},updateDynamicLabel(e){this.dynamicLabel=e?this.placeholder:this.label},handleDocumentClick(e){this.$el.contains(e.target)||(this.isDropdownOpen=!1)}},mounted(){this.updateDynamicLabel(this.value),document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.removeEventListener("click",this.handleDocumentClick)}},D=$,O=(0,l.A)(D,S,k,!1,null,"7b48874c",null),x=O.exports,T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.closeModal.apply(null,arguments)}}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-container"},[t("header",[t("h2",[e._v(" "+e._s(e.selectedAppeal?`Заявка №${e.selectedAppeal.number} (от ${e.formatDate(e.selectedAppeal.created_at)})`:"Создание заявки")+" ")]),t("label",[e._v(" "+e._s(e.selectedAppeal?e.selectedAppeal.status.name:"Новая")+" ")])]),t("body",{staticClass:"grid-container"},[t("CustomSelect",{staticStyle:{"grid-column":"1 / 5","grid-row":"1"},attrs:{items:e.premiseAddresses,placeholder:"Дом",labelKey:"address"},model:{value:e.selectedPremise,callback:function(t){e.selectedPremise=t},expression:"selectedPremise"}}),t("CustomSelect",{staticStyle:{"grid-column":"5 / 9","grid-row":"1"},attrs:{items:e.apartmentOptions,placeholder:"Квартира",labelKey:"label"},model:{value:e.selectedApartment,callback:function(t){e.selectedApartment=t},expression:"selectedApartment"}}),t("CustomInput",{staticStyle:{"grid-column":"9 / 13","grid-row":"1"},attrs:{placeholder:"Срок",type:"datetime-local"},model:{value:e.due_date,callback:function(t){e.due_date=t},expression:"due_date"}}),t("CustomInput",{staticStyle:{"grid-column":"1 / 4","grid-row":"2"},attrs:{placeholder:"Фамилия"},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),t("CustomInput",{staticStyle:{"grid-column":"4 / 7","grid-row":"2"},attrs:{placeholder:"Имя"},model:{value:e.first_name,callback:function(t){e.first_name=t},expression:"first_name"}}),t("CustomInput",{staticStyle:{"grid-column":"7 / 10","grid-row":"2"},attrs:{placeholder:"Отчество"},model:{value:e.patronymic_name,callback:function(t){e.patronymic_name=t},expression:"patronymic_name"}}),t("CustomInput",{staticStyle:{"grid-column":"10 / 13","grid-row":"2"},attrs:{placeholder:"Телефон"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),t("CustomInput",{staticStyle:{"grid-column":"1 / 13","grid-row":"3"},attrs:{placeholder:"Описание заявки",type:"textarea"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),t("div",{staticClass:"button-error-container"},[t("button",{on:{click:e.saveData}},[e._v(" "+e._s(e.selectedAppeal?"Сохранить":"Создать")+" ")]),e.error?t("div",{staticClass:"error-container"},[t("label",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")])]):e._e()])])])])},L=[],I=(s(2577),s(4373)),M={data(){return{first_name:"",lastname:"",patronymic_name:"",due_date:"",phone:"",description:"",selectedPremise:null,selectedApartment:null,apartmentOptions:[],error:""}},props:{title:{type:String,default:"Модальное окно"},confirmText:{type:String,default:"Ок"},selectedAppeal:{type:Object,default:null}},components:{CustomInput:v,CustomSelect:x},computed:{userPremises(){return this.$store.getters.userPremises||[]},premiseAddresses(){return this.userPremises.map((e=>({id:e.id,address:e.address})))}},watch:{selectedAppeal:{immediate:!0,handler(e){e?(this.first_name=e.applicant?.first_name||"",this.lastname=e.applicant?.last_name||"",this.patronymic_name=e.applicant?.patronymic_name||"",this.due_date=this.toDatetimeLocal(e?.due_date)||"",this.phone=e.applicant?.username||"",this.description=e?.description||"",this.selectedPremise=this.premiseAddresses.find((t=>t.id===e.premise?.id))||null,this.selectedPremise&&this.fetchApartments().then((()=>{this.selectedApartment=this.apartmentOptions.find((t=>t.id===e.apartment?.id))||null}))):this.resetFields()}},selectedPremise(e){e?this.fetchApartments():(this.apartmentOptions=[],this.selectedApartment=null)}},methods:{confirmAction(){this.$emit("confirm")},closeModal(){this.$emit("close")},resetFields(){this.first_name="",this.lastname="",this.patronymic_name="",this.due_date="",this.phone="",this.description="",this.selectedPremise=null,this.selectedApartment=null,this.apartmentOptions=[]},formatDate(e){if(!e)return"";const t=new Date(e),s=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${s}.${a}.${r} ${i}:${l}`},toDatetimeLocal(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return this.error=`Некорректная дата: ${e}`,"";const s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${s}-${a}-${r}T${i}:${l}`}catch(t){return this.error="Ошибка преобразования даты",""}},formatDueDate(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return this.error=`Некорректная дата: ${e}`,"";const s=new Date(t.getTime()-6e4*t.getTimezoneOffset()),a=s.toISOString().replace(".000","");return a}catch(t){return this.error="Ошибка форматирования даты",""}},async fetchApartments(){if(this.selectedPremise)try{const e=await I.A.get(`https://dev.moydomonline.ru/api/geo/v1.0/apartments/?premise_id=${this.selectedPremise.id}`);this.apartmentOptions=e.data.results.map((e=>({id:e.id,label:e.label||`Квартира ${e.id}`})))}catch(e){this.error="Ошибка при загрузке квартир",this.apartmentOptions=[]}},saveData(){if(null==this.selectedPremise)this.error="Выберите дом";else if(null==this.selectedApartment)this.error="Выберите квартиру";else if(""==this.due_date)this.error="Выберите сроки";else if(""==this.lastname)this.error="Введите фамилию";else if(""==this.first_name)this.error="Введите имя";else if(""==this.phone)this.error="Введите телефон";else{this.error="";const e={premise_id:this.selectedPremise?this.selectedPremise.id:null,apartment_id:this.selectedApartment?this.selectedApartment.id:null,applicant:{first_name:this.first_name,last_name:this.lastname,patronymic_name:this.patronymic_name,username:this.phone.replace("+","")},description:this.description,due_date:this.formatDueDate(this.due_date)};this.selectedAppeal||(e.status_id=1),this.selectedAppeal?this.updateAppeal(e):this.createAppeal(e)}},async updateAppeal(e){if(this.selectedAppeal)try{const t=await I.A.patch(`https://dev.moydomonline.ru/api/appeals/v1.0/appeals/${this.selectedAppeal.id}/`,e);200==t.status&&(this.$emit("data-saved"),this.$emit("close"))}catch(t){this.error="Ошибка обновления заявки",alert("Ошибка при обновлении заявки. Пожалуйста, попробуйте еще раз.")}},async createAppeal(e){try{const t=await I.A.post("https://dev.moydomonline.ru/api/appeals/v1.0/appeals/",e,{headers:{"Content-Type":"application/json"}});200==t.status&&(this.$emit("data-saved"),this.$emit("close"))}catch(t){this.error="Ошибка создания заявки",alert("Ошибка при создании заявки. Пожалуйста, попробуйте еще раз.")}}}},F=M,z=(0,l.A)(F,T,L,!1,null,"4f5d2ba1",null),j=z.exports,K={data(){return{selectedAppeal:null,searchQuery:"",pageSize:10,currentPage:1,sortDirection:"-number",selectedPremise:null,isModalOpen:!1}},components:{CustomInput:v,CustomSelect:x,ModalWindow:j},watch:{selectedPremise(e){e||(this.selectedApartment=null),this.applyFilters()}},computed:{appeals(){return this.$store.getters.appeals},userPremises(){return this.$store.getters.userPremises},premiseAddresses(){return this.userPremises.map((e=>({id:e.id,address:e.address})))},totalPages(){return this.$store.getters.totalPages},displayRecordInfo(){const e=(this.currentPage-1)*this.pageSize+1,t=this.$store.getters.totalCount,s=Math.min(this.currentPage*this.pageSize,t);return`${e}-${s} из ${t} записей`},getPagesToShow(){const e=this.totalPages,t=this.currentPage,s=[],a=7;if(e<=a){for(let t=1;t<=e;t++)s.push({page:t,key:`page-${t}`});return s}if(s.push({page:1,key:"first"}),t<=4){for(let e=2;e<=5;e++)s.push({page:e,key:`page-${e}`});return s.push({page:"...",key:"ellipsis-start"}),s.push({page:e,key:"last"}),s}if(t>=e-3){s.push({page:"...",key:"ellipsis-start"});for(let t=e-4;t<=e;t++)s.push({page:t,key:`page-${t}`});return s}return s.push({page:"...",key:"ellipsis-start"}),s.push({page:t-1,key:"page-"+(t-1)}),s.push({page:t,key:`page-${t}`}),s.push({page:t+1,key:`page-${t+1}`}),s.push({page:"...",key:"ellipsis-end"}),s.push({page:e,key:"last"}),s}},methods:{openAppeal(e){this.selectedAppeal=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,this.selectedAppeal=null},dataUpdate(){this.applyFilters(),this.$store.dispatch("fetchUserPremises")},createAppeal(){this.selectedAppeal=null,this.isModalOpen=!0},handleSave(e){this.selectedAppeal?this.$store.dispatch("updateAppeal",e):this.$store.dispatch("createAppeal",e),this.isModalOpen=!1},formatDate(e){return new Date(e).toLocaleString()},formatAddress(e,t){return`${e?.address||"Нет данных"}, ${t?.label||"Нет данных"}`},formatApplicant(e){return`${e?.last_name||"—"} ${e?.first_name||""} ${e?.patronymic_name||""}`},async goToPage(e){"..."!==e&&(e<1&&(e=1),e>this.totalPages&&(e=this.totalPages),this.currentPage=e,await this.applyFilters())},async applyFilters(){try{""!==this.searchQuery.trim()&&(this.currentPage=1);const e={search:this.searchQuery.trim(),pageSize:this.pageSize,page:this.currentPage,sort:this.sortDirection,premise_id:this.selectedPremise?this.selectedPremise.id:null};await this.$store.dispatch("fetchFilteredAppeals",e)}catch(e){console.error("Ошибка применения фильтров:",e),alert("Не удалось применить фильтры")}},toggleSort(e){this.sortDirection===e?this.sortDirection=`-${e}`:(this.sortDirection,this.sortDirection=e),this.applyFilters()},togglePageSize(){this.currentPage=1,this.applyFilters()}},created(){this.applyFilters(),this.$store.dispatch("fetchUserPremises")}},U=K,V=(0,l.A)(U,A,C,!1,null,"48db2a1a",null),E=V.exports,Q=s(3518);a.Ay.use(Q.Ay);var N=new Q.Ay.Store({state:{key:null,appeals:[],totalPages:1,totalCount:0,userPremises:[]},mutations:{setKey(e,t){e.key=t},setAppeals(e,{appeals:t,totalPages:s,totalCount:a}){e.appeals=t,e.totalPages=s,e.totalCount=a},setUserPremises(e,t){e.userPremises=t}},getters:{isAuthenticated:e=>!!e.key,appeals:e=>e.appeals,totalPages:e=>e.totalPages,totalCount:e=>e.totalCount,userPremises:e=>e.userPremises},actions:{async login({commit:e},{username:t,password:s}){try{const a=await I.A.post("https://dev.moydomonline.ru/api/auth/login/",{username:t,password:s}),{key:r}=a.data;e("setKey",r),I.A.defaults.headers.common["Authorization"]=`Token ${r}`}catch(a){throw console.log(a),new Error(a.response.data.data.non_field_errors[0])}},async fetchFilteredAppeals({commit:e},{search:t,pageSize:s,page:a,sort:r,premise_id:i}){try{let l=`?page_size=${s}&page=${a}`;t&&(l+=`&search=${t}`),r&&(l+=`&ordering=${r}`),i&&(l+=`&premise_id=${i}`),console.log(r),console.log(`https://dev.moydomonline.ru/api/appeals/v1.0/appeals/${l}`);const n=await I.A.get(`https://dev.moydomonline.ru/api/appeals/v1.0/appeals/${l}`);return console.log(n.data),e("setAppeals",{appeals:n.data.results,totalPages:n.data.pages,totalCount:n.data.count}),{totalPages:n.data.pages}}catch(l){throw console.error("Ошибка при фильтрации заявок:",l),new Error("Не удалось загрузить данные с фильтрами")}},async fetchUserPremises({commit:e}){try{const t=await I.A.get("https://dev.moydomonline.ru/api/geo/v2.0/user-premises/");e("setUserPremises",t.data.results),console.log(t.data)}catch(t){console.error("Ошибка при получении домов:",t)}}}});a.Ay.use(p.Ay);const q=[{path:"/login",name:"login",component:P},{path:"/",name:"home",component:E,meta:{requiresAuth:!0}}],H=new p.Ay({mode:"history",base:"/applications/",routes:q});H.beforeEach(((e,t,s)=>{e.matched.some((e=>e.meta.requiresAuth))?N.getters.isAuthenticated?s():s("/login"):s()}));var R=H;a.Ay.config.productionTip=!1,new a.Ay({router:R,store:N,render:e=>e(c)}).$mount("#app")}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,r,i){if(!a){var l=1/0;for(p=0;p<e.length;p++){a=e[p][0],r=e[p][1],i=e[p][2];for(var n=!0,o=0;o<a.length;o++)(!1&i||l>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(n=!1,i<l&&(l=i));if(n){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[a,r,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,i,l=a[0],n=a[1],o=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)s.o(n,r)&&(s.m[r]=n[r]);if(o)var p=o(s)}for(t&&t(a);c<l.length;c++)i=l[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(p)},a=self["webpackChunkapplications"]=self["webpackChunkapplications"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(9692)}));a=s.O(a)})();
//# sourceMappingURL=app.241b791e.js.map